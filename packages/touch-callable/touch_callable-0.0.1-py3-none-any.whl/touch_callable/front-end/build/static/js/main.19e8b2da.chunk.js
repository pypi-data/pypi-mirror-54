(window["webpackJsonprun-callable"]=window["webpackJsonprun-callable"]||[]).push([[0],{174:function(e,a,t){e.exports=t(339)},179:function(e,a,t){},200:function(e,a,t){},339:function(e,a,t){"use strict";t.r(a);var l=t(1),n=t.n(l),r=t(8),c=t.n(r),o=(t(179),t(100)),i=t(101),s=t(105),u=t(102),m=t(106),b=t(135),p=t(48),h=t(61),d=t(74),f=t(341),E=t(344),v=t(347),y=t(350),w=t(349),O=t(343),k=t(346),j=t(348),C=t(345),_=t(342),g=t(42),S=t(103),I=t.n(S);t(200);function T(e){return{type:"updateCallables",callables:e}}var D={callables:[]};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"updateCallables":return Object.assign({},e,{callables:a.callables});default:return e}},x=f.a.Header,F=f.a.Content,B=f.a.Footer,N=function(e){function a(e){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).call(this,e))}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setCallables;I.a.get("callable").then(function(a){e(a.data)})}},{key:"render",value:function(){return n.a.createElement(E.a,{itemLayout:"horizontal",dataSource:this.props.callables,renderItem:function(e){return n.a.createElement(E.a.Item,null,n.a.createElement(E.a.Item.Meta,{title:n.a.createElement(b.b,{to:"/callable/".concat(e.callable_name)},e.callable_name),description:e.title}))}})}}]),a}(l.Component),L=function(e){return Object(h.a)({setCallables:T},e)},X=Object(d.b)(function(e){return{callables:e.callables}},L)(N),V=function(e){function a(e){var t;Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){e||I.a.post("callable/".concat(t.props.match.params.name),a).then(function(e){"success"===e.data.status?t.showSuccessModal(e.data.result):t.showErrorModal(e.data.result)})})},t.setCallable=function(){var e,a=t.props.match.params.name,l=!0,n=!1,r=void 0;try{for(var c,o=t.props.callables[Symbol.iterator]();!(l=(c=o.next()).done);l=!0)if((e=c.value).callable_name===a){t.callable=e;break}}catch(i){n=!0,r=i}finally{try{l||null==o.return||o.return()}finally{if(n)throw r}}},t.buildFormItem=function(e,a,l){var r,c=t.props.form.getFieldDecorator,o=e.name;switch(e.annotation){case"str":r=n.a.createElement(v.a,{allowClear:!0});break;case"float":r=n.a.createElement(y.a,{allowClear:!0});break;case"int":r=n.a.createElement(y.a,{parser:function(e){return Math.floor(e)},allowClear:!0});break;case"bool":r=n.a.createElement(w.a.Group,{buttonStyle:"solid"},n.a.createElement(w.a.Button,{value:!0},"True"),n.a.createElement(w.a.Button,{value:!1},"False"));break;case"datetime":r=n.a.createElement(O.a,{showTime:!0,allowClear:!0});break;case"Enum":r=n.a.createElement(w.a.Group,{buttonStyle:"solid"},e.enum_values.map(function(e,a,t){return n.a.createElement(w.a.Button,{value:e},e)}));break;default:r=n.a.createElement(v.a,null)}return n.a.createElement(k.a.Item,{label:o,key:a},c(o,{initialValue:e.default,rules:[{required:e.required,message:"\u8bf7\u8f93\u5165".concat(o,"!")}]})(r))};var l=t.props.callables;return t.state={visible:!1,response:null,callables:l},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setCallables;I.a.get("callable").then(function(a){e(a.data)})}},{key:"showSuccessModal",value:function(e){j.a.success({title:"\u6267\u884c\u6210\u529f",content:e})}},{key:"showErrorModal",value:function(e){j.a.error({title:"\u6267\u884c\u5931\u8d25",content:e})}},{key:"render",value:function(){var e=this;return this.setCallable(),n.a.createElement(C.a,{style:{border:"1px solid rgb(235, 237, 240)"},onBack:function(){return e.props.history.push("/")},title:"\u529f\u80fd\u5217\u8868"},n.a.createElement(k.a,{layout:"vertical",onSubmit:this.handleSubmit},n.a.createElement(_.a,null,this.callable?this.callable.callable_name:""),n.a.createElement("pre",null,this.callable&&this.callable.doc?this.callable.doc:"\u6ca1\u6709\u6587\u6863"),this.callable&&this.callable.parameters.length?n.a.createElement(_.a,null,"\u53c2\u6570\u586b\u5199"):[],this.callable?this.callable.parameters.map(this.buildFormItem):[],n.a.createElement(k.a.Item,null,n.a.createElement(g.a,{type:"primary",htmlType:"submit",wrapperCol:{span:12,offset:6},block:!0},"\u8fd0\u884c"))))}}]),a}(n.a.Component),q=k.a.create({name:"callablForm"})(V),G=Object(d.b)(function(e){return{callables:e.callables}},L)(q),H=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){document.title="Touch-Callable"}},{key:"render",value:function(){return n.a.createElement(f.a,{className:"layout",style:{minHeight:"10000px"}},n.a.createElement(x,null,n.a.createElement("p",{style:{color:"white"}},"Touch Callable")),n.a.createElement(F,{style:{margin:"0 auto",width:"700px"}},n.a.createElement(b.a,null,n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/",component:X}),n.a.createElement(p.a,{path:"/callable/:name",component:G})))),n.a.createElement(B,{style:{textAlign:"center"}},"Touch Callable"))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=Object(h.b)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0,traceLimit:25}));c.a.render(n.a.createElement(d.a,{store:J},n.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,1,2]]]);
//# sourceMappingURL=main.19e8b2da.chunk.js.map