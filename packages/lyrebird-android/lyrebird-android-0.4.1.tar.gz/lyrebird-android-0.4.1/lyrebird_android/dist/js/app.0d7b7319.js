(function(t){function e(e){for(var i,s,c=e[0],r=e[1],l=e[2],u=0,p=[];u<c.length;u++)s=c[u],a[s]&&p.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},1:function(t,e){},"20d0":function(t,e,n){"use strict";var i=n("cf87"),a=n.n(i);a.a},"21da":function(t,e,n){"use strict";var i=n("39f1"),a=n.n(i);a.a},"2de6":function(t,e,n){"use strict";var i=n("643e"),a=n.n(i);a.a},"39f1":function(t,e,n){},"4d54":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Android")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",[n("i-col",{staticClass:"android-split",attrs:{span:"6"}},[n("device-list",{staticClass:"device-list"}),n("screen-shot",{directives:[{name:"show",rawName:"v-show",value:t.focusDeviceId,expression:"focusDeviceId"}]})],1),n("i-col",{staticClass:"android-split",attrs:{span:"18"}},[t.focusDeviceId?n("div",{staticStyle:{height:"100vh"}},[n("Split",{attrs:{mode:"vertical"},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}},[n("Row",{staticClass:"android-split-pane",staticStyle:{height:"100%"},attrs:{slot:"top"},slot:"top"},[n("i-col",{staticStyle:{height:"100%","border-right":"1px solid #e8eaec"},attrs:{span:"12"}},[n("device-info")],1),n("i-col",{attrs:{span:"12"}},[n("package-info")],1)],1),n("div",{staticStyle:{height:"100%"},attrs:{slot:"bottom"},slot:"bottom"},[n("Tabs",{staticStyle:{height:"100%"},attrs:{value:"console",size:"small",animated:!1}},[n("TabPane",{staticStyle:{height:"100%"},attrs:{label:"Console",name:"console"}},[n("ConsoleLog")],1),n("TabPane",{staticStyle:{height:"100%"},attrs:{label:"DeviceLog",name:"log"}},[n("device-log")],1)],1)],1)],1)],1):n("div",[n("p",{staticClass:"cell-empty"},[t._v("Please select an Android device")])])])],1)},c=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[t.terminalLogs.length?n("div",{staticClass:"android-console",attrs:{id:"scroller"}},[t._l(t.terminalLogs,function(e,i){return n("pre",{key:i,staticStyle:{margin:"0px"}},[t._v(t._s(e))])}),n("div",{attrs:{id:"anchor"}})],2):n("div",{staticClass:"android-console"},[n("p",{staticStyle:{"text-align":"center"}},[t._v("No console log")])]),n("Poptip",{attrs:{placement:"top-start",disabled:""},model:{value:t.isShownPoptip,callback:function(e){t.isShownPoptip=e},expression:"isShownPoptip"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.PoptipContent))]),n("Input",{staticClass:"android-console-input",staticStyle:{width:"calc(75vw - 68px)"},attrs:{prefix:"ios-arrow-forward",size:"small",placeholder:"Use â†‘ to view history command"},on:{"on-enter":t.onInputEnter,"on-keydown":t.onKeyPress},model:{value:t.commandLine,callback:function(e){t.commandLine=e},expression:"commandLine"}}),n("Button",{attrs:{type:"primary",size:"small"},on:{click:t.showModal}},[t._v("Format it")])],1),n("Modal",{attrs:{title:"Command editor",width:"60%",styles:{top:"80px"},"footer-hide":!0},model:{value:t.isShownModal,callback:function(e){t.isShownModal=e},expression:"isShownModal"}},[n("div",{staticClass:"command-format"},[t._l(t.commandSplit,function(t,e){return n("div",{key:e,staticStyle:{"padding-bottom":"10px"}},[n("InputItem",{attrs:{index:e}})],1)}),n("Button",{attrs:{type:"primary",long:"",size:"small",icon:"md-add"},nativeOn:{click:function(e){return t.addCommandSplit(e)}}})],2),n("Divider",{attrs:{dashed:"",size:"small",orientation:"left"}},[n("span",{staticStyle:{color:"#515a6e"}},[t._v("Preview")])]),n("div",{staticClass:"command-after-format"},[n("code",{staticStyle:{"word-break":"break-all"}},[t._v("\n        "+t._s(t.commandLine)+"\n      ")])])],1)],1)},l=[],d=(n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Input",{attrs:{size:"small",type:"textarea",autosize:{minRows:1}},model:{value:t.commandSplitItem,callback:function(e){t.commandSplitItem=e},expression:"commandSplitItem"}})}),u=[],p={props:["index"],computed:{commandSplitItem:{get:function(){return this.$store.state.console.commandSplit[this.index]},set:function(t){this.$store.state.console.commandSplit.splice(this.index,1,t)}}}},m=p,f=n("2877"),h=Object(f["a"])(m,d,u,!1,null,null,null),v=h.exports,g={components:{InputItem:v},data:function(){return{isShownModal:!1,isShownPoptip:!1,PoptipContent:""}},created:function(){this.$store.dispatch("getHistoryCommand")},computed:{commandLine:{get:function(){return this.$store.state.console.commandLine},set:function(t){this.$store.commit("setCommandLine",t)}},commandSplit:function(){return this.$store.state.console.commandSplit},historyCommand:function(){return this.$store.state.console.historyCommand},terminalLogs:function(){return this.$store.state.console.terminalLog}},watch:{commandSplit:function(t){this.$store.commit("setCommandLine",t.join(" "))}},methods:{showModal:function(){this.$store.commit("setCommandSplit",this.getCommandSplit()),this.isShownModal=!0},getCommandSplit:function(){for(var t=" -",e="-",n=this.commandLine.trim().split(t),i=1;i<n.length;i++)n[i]=e+n[i];return n},onInputEnter:function(){this.commandLine&&(this.$store.commit("addTerminalLog","> "+this.commandLine),this.$store.dispatch("executeCommand",{command:this.commandLine}),this.$store.commit("setHistoryCommandIndex",-1),this.$store.commit("setCommandLine",""))},onKeyPress:function(t){if("ArrowUp"===t.key)var e=this.$store.state.console.historyCommandIndex+1;else{if("ArrowDown"!==t.key)return;e=this.$store.state.console.historyCommandIndex-1}e<=-1?(this.$store.commit("setHistoryCommandIndex",-1),this.$store.commit("setCommandLine",""),this.isShownPoptip=!1):e>this.historyCommand.length?(this.PoptipContent="Nothing forward, display "+this.historyCommand.length+" history commands at most",this.isShownPoptip=!0):(this.$store.commit("setHistoryCommandIndex",e),this.$store.commit("setCommandLine",JSON.parse(this.historyCommand[e].content)),this.isShownPoptip=!1)},addCommandSplit:function(){this.$store.commit("addCommandSplit","")}}},S=g,y=(n("20d0"),Object(f["a"])(S,r,l,!1,null,null,null)),k=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"android-log",attrs:{id:"scroller"}},[t._l(t.logs,function(e,i){return n("p",{key:i},[t._v("\n    "+t._s(e)+"\n    ")])}),n("div",{attrs:{id:"anchor"}}),n("p")],2)},I=[],w={created:function(){this.$io.on("android-log",this.pushLog)},computed:{logs:function(){return this.$store.state.console.deviceLog}},methods:{pushLog:function(t){this.$store.commit("addDeviceLogs",t)}}},x=w,D=(n("2de6"),Object(f["a"])(x,_,I,!1,null,null,null)),C=D.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===Object.keys(t.devices).length?n("div",{staticClass:"cell-empty"},[n("p",{staticStyle:{"text-align":"center"}},[t._v("No devices")])]):n("div",[n("CellGroup",{on:{"on-click":t.onCellClick}},t._l(t.devices,function(e,i){return n("Cell",{key:i,staticClass:"device-list-cell",attrs:{title:e.model?e.model:"Unknown",name:i,extra:i,selected:t.focusDeviceId===i}})}),1)],1)},$=[],P={computed:{devices:function(){return this.$store.state.devices},focusDeviceId:function(){return this.$store.state.focusDeviceId}},methods:{onCellClick:function(t){this.$store.commit("setFocusDeviceId",t),this.$store.commit("setDeviceInfo",this.devices[t]),this.$store.dispatch("loadDefaultPackageName"),this.$store.dispatch("loadPackages"),this.$store.dispatch("takeScreenShot")}}},L=P,A=(n("21da"),Object(f["a"])(L,b,$,!1,null,null,null)),O=A.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{staticClass:"info-header",attrs:{type:"flex",align:"middle"}},[n("i-col",{attrs:{span:"6"}},[n("strong",[t._v("Device information")])]),n("i-col",{attrs:{span:"18",align:"right"}},[n("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:t.isTakingScreen},nativeOn:{click:function(e){return t.takeScreenShot(e)}}},[t._v("Take screen shot")]),n("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.getDeviceDetail(e)}}},[t._v("more detail")])],1)],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"8"}},[n("b",[t._v("Device ID")])]),n("i-col",{attrs:{span:"16"}},[t._v(t._s(t.deviceInfo.device_id))])],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"8"}},[n("b",[t._v("Model")])]),n("i-col",{attrs:{span:"16"}},[t._v(t._s(t.deviceInfo.model))])],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"8"}},[n("b",[t._v("Android Version")])]),n("i-col",{attrs:{span:"16"}},[t._v(t._s(t.deviceInfo.releaseVersion))])],1),n("Modal",{attrs:{title:"Detail",width:"1000",styles:{top:"5vh"},"footer-hide":!0},model:{value:t.showDeviceDetail,callback:function(e){t.showDeviceDetail=e},expression:"showDeviceDetail"}},[n("pre",{staticStyle:{height:"70vh","overflow-x":"auto"}},[t._v(t._s(t.deviceDetail))])])],1)},T=[],j=n("bc3a"),M=n.n(j),z="/plugins/android/api",U=function(){return M()({url:z+"/devices"})},E=function(t,e){return M()({url:z+"/app/"+t+"/"+e})},R=function(){return M()({url:z+"/package_name"})},H=function(t){return M()({url:z+"/device/"+t})},B=function(t){return M()({url:z+"/packages/"+t})},F=function(t){return M()({url:z+"/screenshot/"+t})},J=function(t,e){return M()({url:z+"/start_app/"+t+"/"+e})},V=function(t,e){return M()({url:z+"/stop_app/"+t+"/"+e})},G=function(){var t="android.command";return M()({url:"/api/event/"+t,method:"GET"})},K=function(t,e){return M()({url:z+"/command",method:"POST",data:{command:e,device_id:t}})},q={data:function(){return{showDeviceDetail:!1,deviceDetail:null}},computed:{deviceInfo:function(){return this.$store.state.deviceInfo},isTakingScreen:function(){return this.$store.state.isTakingScreen}},methods:{getDeviceDetail:function(){var t=this;this.showDeviceDetail=!0,H(this.deviceInfo.device_id).then(function(e){t.deviceDetail=e.data})},takeScreenShot:function(){this.$store.dispatch("takeScreenShot")}}},Q=q,W=Object(f["a"])(Q,N,T,!1,null,null,null),X=W.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.screenShotUrl?n("div",{staticStyle:{"text-align":"center"}},[n("span",[n("img",{staticClass:"android-img",attrs:{src:t.screenShotUrl}})])]):t._e()},Z=[],tt={computed:{screenShotUrl:function(){return this.$store.state.screenShotUrl}}},et=tt,nt=Object(f["a"])(et,Y,Z,!1,null,null,null),it=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{staticClass:"info-header",attrs:{type:"flex",align:"middle"}},[n("i-col",{attrs:{span:"6"}},[n("strong",[t._v("APP information")])]),n("i-col",{attrs:{span:"18",align:"right"}},[n("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:t.isStartingApp||!t.packageName},nativeOn:{click:function(e){return t.startApp(e)}}},[t._v("Start app")]),n("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:!t.packageName},nativeOn:{click:function(e){return t.stopApp(e)}}},[t._v("Stop app")]),n("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:!t.packageName},nativeOn:{click:function(e){t.showAppDetail=!0}}},[t._v("more detail")])],1)],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"6"}},[n("b",[t._v("PackageName")])]),n("i-col",{attrs:{span:"18"}},[n("i-select",{attrs:{size:"small",placeholder:"package name",filterable:""},model:{value:t.packageName,callback:function(e){t.packageName=e},expression:"packageName"}},t._l(t.packages,function(e){return n("i-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"6"}},[n("b",[t._v("StartActivity")])]),n("i-col",{attrs:{span:"18"}},[n("span",[t._v(t._s(t.packageInfo.launchActivity))])])],1),n("Row",{staticStyle:{padding:"10px"}},[n("i-col",{attrs:{span:"6"}},[n("b",[t._v("AppVersion")])]),n("i-col",{attrs:{span:"18"}},[n("span",[t._v(t._s(t.packageInfo.version))])])],1),n("Modal",{attrs:{title:"Detail",width:"1000",styles:{top:"5vh"},"footer-hide":!0},model:{value:t.showAppDetail,callback:function(e){t.showAppDetail=e},expression:"showAppDetail"}},[n("pre",{staticStyle:{height:"70vh","overflow-x":"auto"}},[t._v(t._s(t.packageInfo.detail))])])],1)},ot=[],st={data:function(){return{showAppDetail:!1}},computed:{packageName:{get:function(){return this.$store.state.focusPackageName},set:function(t){this.$store.commit("setFocusPackageName",t),this.$store.dispatch("loadPackageInfo")}},packages:function(){return this.$store.state.packages},packageInfo:function(){return this.$store.state.packageInfo},isStartingApp:function(){return this.$store.state.isStartingApp}},methods:{startApp:function(){this.$store.dispatch("startApp")},stopApp:function(){this.$store.dispatch("stopApp")}}},ct=st,rt=Object(f["a"])(ct,at,ot,!1,null,null,null),lt=rt.exports,dt={components:{ConsoleLog:k,DeviceLog:C,DeviceList:O,DeviceInfo:X,ScreenShot:it,PackageInfo:lt},data:function(){return{split:.3}},created:function(){this.$store.dispatch("loadDevices"),this.$io.on("device",this.getDevices)},computed:{focusDeviceId:function(){return this.$store.state.focusDeviceId}},methods:{getDevices:function(){this.$store.dispatch("loadDevices")}}},ut=dt,pt=(n("6388"),Object(f["a"])(ut,s,c,!1,null,null,null)),mt=pt.exports,ft={name:"app",components:{Android:mt}},ht=ft,vt=(n("034f"),Object(f["a"])(ht,a,o,!1,null,null,null)),gt=vt.exports,St=n("2f62"),yt=(n("ac4d"),n("8a81"),n("ac6a"),{state:{deviceLog:[],terminalLog:[],commandLine:"",commandSplit:[],historyCommand:[],historyCommandIndex:-1},mutations:{addDeviceLogs:function(t,e){var n=200;t.deviceLog.length>n&&t.deviceLog.splice(0,t.deviceLog.length-n);var i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var r=s.value;t.deviceLog.push(r)}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}},addTerminalLog:function(t,e){t.terminalLog.push(e)},setCommandLine:function(t,e){t.commandLine=e},setCommandSplit:function(t,e){t.commandSplit=e},addCommandSplit:function(t,e){t.commandSplit.push(e)},setHistoryCommand:function(t,e){t.historyCommand=e},setHistoryCommandIndex:function(t,e){t.historyCommandIndex=e}},actions:{getHistoryCommand:function(t){var e=t.commit;G().then(function(t){e("setHistoryCommand",t.data.events)})}}});i["default"].use(St["a"]);var kt=new St["a"].Store({modules:{console:yt},state:{devices:{},focusDeviceId:null,deviceInfo:{},isTakingScreen:!1,screenShotUrl:null,packages:[],focusPackageName:null,packageInfo:{},packageDetail:null,isStartingApp:!1},mutations:{setDevices:function(t,e){t.devices=e},setFocusDeviceId:function(t,e){t.focusDeviceId=e},setDeviceInfo:function(t,e){t.deviceInfo=e},setIsTakingScreen:function(t,e){t.isTakingScreen=e},setScreenShotUrl:function(t,e){t.screenShotUrl=e},setPackages:function(t,e){t.packages=e},setFocusPackageName:function(t,e){t.focusPackageName=e},setPackageInfo:function(t,e){t.packageInfo=e},setIsStartingApp:function(t,e){t.isStartingApp=e}},actions:{loadDevices:function(t){var e=t.state,n=t.commit;U().then(function(t){n("setDevices",t.data),e.devices.hasOwnProperty(e.focusDeviceId)||(n("setFocusDeviceId",null),n("setScreenShotUrl",null))})},takeScreenShot:function(t){var e=t.state,n=t.commit;n("setIsTakingScreen",!0),F(e.focusDeviceId).then(function(t){n("setScreenShotUrl",t.data.imgUrl),n("setIsTakingScreen",!1)})},loadPackages:function(t){var e=t.state,n=t.commit;B(e.focusDeviceId).then(function(t){n("setPackages",t.data)})},loadDefaultPackageName:function(t){var e=t.commit,n=t.dispatch;R().then(function(t){t.data.packageName&&(e("setFocusPackageName",t.data.packageName),n("loadPackageInfo"))})},loadPackageInfo:function(t){var e=t.state,n=t.commit;E(e.focusDeviceId,e.focusPackageName).then(function(t){n("setPackageInfo",t.data)})},startApp:function(t){var e=t.state,n=t.commit;n("setIsStartingApp",!0),J(e.focusDeviceId,e.focusPackageName).then(function(t){n("setIsStartingApp",!1)})},stopApp:function(t){var e=t.state;V(e.focusDeviceId,e.focusPackageName)},executeCommand:function(t,e){var n=t.state,i=t.commit,a=t.dispatch,o=e.command;K(n.focusDeviceId,o).then(function(t){1e3===t.data.code?i("addTerminalLog",t.data.data):3e3===t.data.code&&i("addTerminalLog",t.data.message),a("getHistoryCommand")})}}}),_t=n("e069"),It=n.n(_t),wt=(n("dcad"),n("69c5")),xt=n.n(wt),Dt=n("8055"),Ct=n.n(Dt);i["default"].config.productionTip=!1,i["default"].use(It.a,{locale:xt.a}),i["default"].use(It.a),i["default"].prototype["$io"]=Ct()(),new i["default"]({store:kt,render:function(t){return t(gt)}}).$mount("#app")},6388:function(t,e,n){"use strict";var i=n("4d54"),a=n.n(i);a.a},"643e":function(t,e,n){},"64a9":function(t,e,n){},cf87:function(t,e,n){}});