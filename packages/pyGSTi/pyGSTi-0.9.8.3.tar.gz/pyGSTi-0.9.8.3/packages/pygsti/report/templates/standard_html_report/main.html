<!DOCTYPE html>
<html>
  <head>
    <title>%(title)s</title>
    <meta charset="UTF-8" />

    %(favicon)s
    
    %(jqueryLIB)s
    %(jqueryUILIB)s
    %(plotlyLIB)s
    %(plotlyexLIB)s
    %(dashboardLIB)s
    %(katexLIB)s
    <!-- XXX(mathjaxLIB)s -->

    %(CSS)s

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
    
  </head>
  
  <body>

    <div id="theSidenav" class="sidenav">
      <a href="javascript:void(0)" id="tackbtn" title="Toggle navigation bar auto-hide" onclick="tackNav()">&#8859;</a>
      <div class="linkgroup">
	<a href="#" class="linkgroupheading tablink" onclick="openTab(event, 'Summary')" id="defaultOpen">Summary</a>
      </div>

      #iftoggle(BrevityLT4)
      <div class="linkgroup">
        <p class="linkgroupheading" onclick="$(this).next('a')[0].click();">Model Violation</p>
        <a href="#" class="tablink" onclick="openTab(event, 'Goodness')">Overview</a>
	#iftoggle(BrevityLT1)
	<a href="#" class="tablink" onclick="openTab(event, 'Goodness_colorboxplot')">Per-sequence detail</a>
	#iftoggle(ShowScaling)
	<a href="#" class="tablink" onclick="openTab(event, 'Goodness_scaling')">Robust data scaling</a>
	#endtoggle
	#iftoggle(ShowUnmodeledError)
	<a href="#" class="tablink" onclick="openTab(event, 'Goodness_unmodeled')">Unmodeled error</a>
	#endtoggle
	#endtoggle
      </div>

      <div class="linkgroup">
        <p class="linkgroupheading" onclick="$(this).next('a')[0].click();">Gauge Invariant Error Metrics</p>
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeInvariants_gates')">Overview</a>
	#iftoggle(BrevityLT3)
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeInvariants_germs')">Germs Detail</a>
	#endtoggle
	#iftoggle(CompareDatasets)
	<a href="#" class="tablink" onclick="openTab(event, 'DataComparison')">Data Comparison</a>
	#endtoggle
	#iftoggle(IdleTomography)
	<a href="#" class="tablink" onclick="openTab(event, 'IdleTomography')">Idle Tomography</a>
	#endtoggle
      </div>

      <div class="linkgroup">
        <p class="linkgroupheading" onclick="$(this).next('a')[0].click();">Gauge Dependent Error Metrics</p>
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeVariants')">Overview</a>
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeVariants_raw')">Raw Estimates</a>
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeVariants_decomp')">Gate Decompositions</a>
	<a href="#" class="tablink" onclick="openTab(event, 'GaugeVariants_errgen')">Gate Error Generators</a>	
      </div>

      #iftoggle(BrevityLT2)
      <div class="linkgroup">
        <p class="linkgroupheading" onclick="$(this).next('a')[0].click();">For Reference</p>
	<a href="#" class="tablink" onclick="openTab(event, 'Input')">Input Reference</a>
	<a href="#" class="tablink" onclick="openTab(event, 'Meta')">System Reference</a>
      </div>
      #endtoggle
      
      #endtoggle

      <div class="linkgroup">
	<a href="#" class="linkgroupheading tablink" onclick="openTab(event, 'Help')" id="defaultOpen">Help</a>
      </div>
      
      %(topSwitchboard)s

      %(bestGatesetGaugeOptParamsTable)s

    </div>
    
    
    <header class="header" role="banner">
      	<h1 class="title">%(title)s</h1>
	<h2 class="author">generated by pyGSTi on %(date)s</h2>
    </header>

    <div id="main">

      <div id="Summary" class="tabcontent">	
      </div>
      
      <div id="Goodness" class="tabcontent">
      </div>
      <div id="Goodness_colorboxplot" class="tabcontent">
      </div>
      #iftoggle(ShowScaling)
      <div id="Goodness_scaling" class="tabcontent">
      </div>
      #endtoggle

      #iftoggle(ShowUnmodeledError)
      <div id="Goodness_unmodeled" class="tabcontent">
      </div>
      #endtoggle

      
      <div id="GaugeInvariants_gates" class="tabcontent">
      </div>
      <div id="GaugeInvariants_germs" class="tabcontent">
      </div>
      #iftoggle(CompareDatasets)
      <div id="DataComparison" class="tabcontent">
      </div>
      #endtoggle
      #iftoggle(IdleTomography)
      <div id="IdleTomography" class="tabcontent">
      </div>
      #endtoggle


      <div id="GaugeVariants" class="tabcontent">
      </div>
      <div id="GaugeVariants_raw" class="tabcontent">
      </div>
      <div id="GaugeVariants_decomp" class="tabcontent">
      </div>
      <div id="GaugeVariants_errgen" class="tabcontent">
      </div>


      <div id="Input" class="tabcontent">
      </div>
      <div id="Meta" class="tabcontent">
      </div>
      <div id="Help" class="tabcontent">	
      </div>


      <!-- <div id="NEWTAB" class="tabcontent">
	<h1>TAB Title</h1>
	<p>Tab text.</p>
      </div> <!-- end tab content -->

      <div id="AjaxError" style="display: none">
	<p><b>Report loading failed!</b><p>
	<p>Your browser does not allow locally-loaded html files to load other local files.  This is a security restriction present in many standard browsers (don't worry).  There are several things you can do to fix this problem:
	  <ul>
	    <li> If the URL in your address bar begins with <b><q>file://</q></b>, then you have several options:
	      <ul>
		<li> <b>Firefox</b> currently allow files to load other files by default, so if you're not using Firefox right now <b>just switching to Firefox may cause this report to load properly.</b></li>
		<li> <b>Safari</b> will work if you first enable the "Disable Local File Restrictions" under the Develop menu (go to Preferences, Advanced to show the Develop menu if you don't see it now).</li>
		<li> <b>Chrome</b> will work if it's started with the <tt>--allow-file-access-from-files</tt> flag.  On Windows, this can be done by executing <tt>chrome.exe --allow-file-access-from-files</tt> from a command prompt; on a Mac you'll need to execute something like <tt>/Applications/Google Chrome.app/Contents/MacOS/Google Chrome --allow-file-access-from-files</tt>.</li>
	      </ul>
	    </li>
	    <li> If your URL is using a Jupyter notebook server, and begins with <b><q>localhost:8888/files/</q></b> or similar, then the issue is likely due to server and browser cross-domain security restrictions.  Recent versions of Jupyter notebooks, may require a couple modifications to your <tt>~/.jupyter/jupyter_notebook_config.py</tt> file (created by <tt>jupyter notebook --generate-config</tt> if it doesn't exist already) to get things working.  Add the following two lines to your configuration file, restart the notebook server, and reload this page. 
<pre>
c.NotebookApp.allow_origin = 'null'
c.NotebookApp.tornado_settings = { 'headers': { 'Access-Control-Allow-Credentials': 'true' } }
</pre>
	    </li>
	    <li> Finally, if none of the above worked or you'd rather a different approach, you can load this page through a legitimate web server.  <b>Running a local web server</b> and loading this page (main.html) through the web server instead of by opening the file directly (so the address bar begins with <q>http://</q> will almost certainly fix any problems.  Three fairly simple ways of doing this are:
	      <ol>
		<li><b>If you have Python installed</b>, running <pre>python -m SimpleHTTPServer</pre> on Mac/Linux or <pre>python -m http.server</pre> on Windows from a command line will start a local web server rooted in the current directory.  Access this server from a browser by typing <pre>localhost:8000</pre> in the address bar.  Navigate from there to main.html and you should be all set.</li>
		<li><b>If you have the Google Chrome browser</b> (even if you're not using it), then download the <b>Web Server for Chrome</b> app (do a web search to find the app on Google's web store) and follow the instructions to start a local web server running out of a given local directory.</li>
		<li><b>If you use Jupyter notebooks</b> you can use the notebook server to access this main.html page.  You just place <q>files</q> in front of the actual path to main.html (from your notebook server's root).  For example, <q>http://localhost:8888/files/path/to/myReport/main.html</q>.  A trick for accessing files like this is to <b>navigate to main.html using Jupyter's web interface</b> (which sometimes will <i>edit</i> the HTML page instead of opening it) and then changing <q>edit</q> to <q>files</q> in the address bar.  If this doesn't work, you probably need to fix the configuration as described above (the jupyter server isn't quite a full-fledged web server and needs some tweaking).
		</li>

	      </ol>
	    </li>
	  </ul>		  
	</p>
      </div>
	
    </div>

    <div id="status">
      No message
    </div>

    <script type="text/javascript">
      testLocalAjax("tabs/test.html", function(errstatus) {
        console.log("AJAX ERROR: " + errstatus);
        $('#AjaxError').show()
      });
    </script>

  </body>
</html>
