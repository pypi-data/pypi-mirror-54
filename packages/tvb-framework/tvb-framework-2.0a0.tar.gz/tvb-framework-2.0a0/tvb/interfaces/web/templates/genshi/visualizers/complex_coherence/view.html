<div xmlns:py="http://genshi.edgewall.org/" id="complex_coherence" class="view-column">

    <script type="text/javascript" src="/static/js/d3.v3.js"></script>
    <script type="text/javascript" src="/static_view/complex_coherence/complex_coherence.js?$currentVersionJS"></script>
    <script type="text/javascript" src="/static_view/commons/scripts/drawCurve.js?$currentVersionJS"></script>

    <link type="text/css" rel="stylesheet" href="/static/style/section_visualisers.css?$currentVersionJS"/>

    <div id="svg-viewer"></div>

    <ul class="toolbar-inline">
        <li>
            <label for="xScale_select">X Scale</label>
            <select id="xScale_select" onchange="Plot_changeXScale(this.value)">
                <py:for each="scale in available_xScale">
                    <py:if test="scale==xscale">
                        <option value="$scale" selected="selected">$scale</option>
                    </py:if>
                    <py:if test="scale!=xscale">
                        <option value="$scale">$scale</option>
                    </py:if>
                </py:for>
            </select>
        </li>
        <li>
            <label for="spectrum_select">Spectrum</label>
            <select id="spectrum_select" onchange="Complex_getSpectrum(this.value)">
                <py:for each="spec in spectrum_list">
                    <py:if test="spec==spectrum">
                        <option value="$spec" selected="selected">$spec</option>
                    </py:if>
                    <py:if test="spec!=spectrum">
                        <option value="$spec">$spec</option>
                    </py:if>
                </py:for>
            </select>
        </li>
    </ul>

    <div class="curve_draw_area">
        <svg class="draw-svg-container" id="svg-container"></svg>
    </div>

    <script type="text/javascript">

        $(document).ready(function () {
            $("#main").addClass("colscheme-1");
            Complex_complex_coherence_init('${plotName}', '${xAxisName}', '${yAxisName}', ${xmin}, ${xmax}, '${url_base}', '${available_spectrum}', "svg-container");
            Complex_getSpectrum('${spectrum}');
            window.onresize = Plot_drawGraph;
        });

        // For the burst Preview part
        function launchViewer(width, height) {
        }
    </script>
</div>